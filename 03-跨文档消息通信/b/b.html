<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	
	<body>
		<h1>b页面</h1>
		<input type="button" name="bt" id="bt" value="改变父窗口背景颜色" />
		
		
		<script type="text/javascript">
			window.addEventListener('message', function(ev){
				ev = ev || window.event
				
				if(ev.origin == 'http://www.a.com'){
					if(ev.data == 'changeColor'){
						document.body.style.background = 'blue'
					}
				}
			})
			
			
			var oBt = document.querySelector('#bt')
			oBt.onclick = function(){
				window.parent.postMessage({'changeBg':'purple'}, '*')
			}
		</script>
	</body>
</html>
