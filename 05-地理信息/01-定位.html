<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	
	<body>
		<input type="button" name="bt" id="bt" value="定位" />
		<p></p>
		
		<script type="text/javascript">		
			
			var oBt = document.querySelector('#bt')
			var oText = document.querySelector('p')
			oBt.onclick = function(){
				if(navigator.geolocation){  
				  navigator.geolocation.getCurrentPosition(showPosition,showError, {timeout: 10000, enableHighAccuracy: true})  
				}else{  
				  alert("您的浏览器不支持使用HTML 5来获取地理位置服务");  
				} 
			}
			
			function showPosition(){
				console.log(position.coords.latitude)
			}
			
			function showError(error){ 
			  switch(error.code) { 
			    case error.PERMISSION_DENIED: 
			      alert("定位失败,用户拒绝请求地理定位"); 
			      break; 
			    case error.POSITION_UNAVAILABLE: 
			      alert("定位失败,位置信息是不可用"); 
			      break; 
			    case error.TIMEOUT: 
			      alert("定位失败,请求获取用户位置超时"); 
			      break; 
			    case error.UNKNOWN_ERROR: 
			      alert("定位失败,定位系统失效"); 
			      break; 
			  } 
			} 
		</script>
	</body>
</html>
